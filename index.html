<!DOCTYPE html>
<html lang="ru">
<head>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Snake Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>üêç –ó–º–µ–π–∫–∞</h1>
  <canvas id="game" width="400" height="400"></canvas>
  <p>–û—á–∫–∏: <span id="score">0</span></p>
  <button id="restartBtn">üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å</button>


  <script src="script.js"></script>

  <!-- üî• –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ (–∞–Ω—Ç–∏–∫–µ—à) -->
  <script>
    const currentUrl = window.location.href.split('?')[0];
    const randomParam = 'v=' + new Date().getTime();
    const newUrl = `${currentUrl}?${randomParam}`;
    if (!window.location.href.includes('v=')) {
      window.location.replace(newUrl);
    }
  </script>

  <!-- üö´ –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–≤–∞–π–ø—ã (—á—Ç–æ–±—ã –∏–≥—Ä–∞ –Ω–µ —Å–≤–æ—Ä–∞—á–∏–≤–∞–ª–∞—Å—å) -->
  <script>
    document.body.addEventListener('touchmove', function (e) {
      e.preventDefault();
    }, { passive: false });
  </script>

<script>
  const tg = window.Telegram.WebApp;

  // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  tg.expand(); // –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
  tg.ready();

  // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
  tg.MainButton.text = "üéÆ –ò–≥—Ä–∞—Ç—å";
  tg.MainButton.color = "#00A86B"; // –∑–µ–ª—ë–Ω–∞—è –∫–Ω–æ–ø–∫–∞
  tg.MainButton.textColor = "#ffffff";
  tg.MainButton.show();

  // –ö–æ–≥–¥–∞ –Ω–∞–∂–∞–ª–∏ –∫–Ω–æ–ø–∫—É
  tg.MainButton.onClick(() => {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–≥—Ä—É
    document.querySelector("canvas").style.display = "block";
    document.querySelector("p").style.display = "block";
    document.querySelector("#restartBtn").style.display = "block";
    tg.MainButton.hide(); // —É–±–∏—Ä–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
  });

  // –°–∫—Ä—ã–≤–∞–µ–º –∏–≥—Ä—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  window.addEventListener("load", () => {
    document.querySelector("canvas").style.display = "none";
    document.querySelector("p").style.display = "none";
    document.querySelector("#restartBtn").style.display = "none";
  });
</script>

</body>
</html>



